{
  "hash": "69dfd828e07b9b2e478e6ebcb0671bf2",
  "result": {
    "markdown": "---\ntitle: \"lab2\"\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.8     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.1\n✔ readr   2.1.2     ✔ forcats 0.5.2\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(socviz)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'socviz' was built under R version 4.2.2\n```\n:::\n\n```{.r .cell-code}\nlibrary(lubridate)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'lubridate'\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(geofacet)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'geofacet' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'geofacet'\n\nThe following object is masked from 'package:socviz':\n\n    election\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggthemes)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nunemp_house_prices <- read_csv(\n  'https://bcdanl.github.io/data/unemp_house_prices.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 25704 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (1): state\ndbl  (3): unemploy_perc, house_price_index, house_price_perc\ndate (1): date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nadjust_labels <- as_labeller(\n  function(x) {\n    case_when(\n      x == \"New Hampshire\" ~ \"N. Hampshire\",\n      x == \"District of Columbia\" ~ \"DC\",\n      TRUE ~ x\n    )\n  }\n)\n\n\ndat08 <- filter(unemp_house_prices, ymd(date) > ymd('2008/01/01'))\n\nggplot(data = filter(unemp_house_prices, ymd(date) > ymd('2008/01/01')), aes(x = ymd(date), y = unemploy_perc)) +\n  geom_area(fill = 'blue3') +\n  geom_line() + \n  scale_x_date(breaks = ymd(\"2009/01/01\",\"2011/01/01\",\"2013/01/01\",\"2015/01/01\",\"2017/01/01\"),\n               labels = c(\"'09\",\"'11\",\"'13\",\"'15\",\"'17\")) +\n  facet_geo(~state, labeller = adjust_labels)\n```\n\n::: {.cell-output-display}\n![](lab2_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nelection_panel <- read_csv(\n  'https://bcdanl.github.io/data/election_panel.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 18944 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (6): state, state_po, county_name, id, candidate_DEMOCRAT, candidate_REP...\ndbl (4): year, county_fips, pct_DEMOCRAT, pct_REPUBLICAN\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nmp <- county_map\n\n\n\ndat <- left_join(mp, election_panel)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining, by = \"id\"\n```\n:::\n\n```{.r .cell-code}\nggplot(filter(dat, !is.na(year))) + \n  geom_polygon(aes(x = long, y = lat, group = group, fill = pct_DEMOCRAT), color = \"grey60\") +\n  coord_fixed() +\n  theme_map() +\n  facet_wrap(~year)\n```\n\n::: {.cell-output-display}\n![](lab2_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "lab2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}